  [1m[36m (10.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateVoicemails (20111027221526)
  [1m[35m (0.2ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 


Started GET "/assets/rails.png" for 127.0.0.1 at 2012-06-11 19:55:09 +0530
Served asset /rails.png - 200 OK (5ms)
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (0.2ms)[0m  SHOW search_path
  [1m[36m (5.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35m (3.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateVoicemails (20111027221526)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE "voicemails" ("id" serial primary key, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111027221526')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.2ms)[0m  [1mSHOW search_path[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'voicemails'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname


Started GET "/assets/rails.png" for 127.0.0.1 at 2012-06-11 22:54:51 +0530
Served asset /rails.png - 304 Not Modified (1ms)


Started GET "/voicemails/new.json" for 127.0.0.1 at 2012-06-13 11:32:39 +0530

ActionController::RoutingError (No route matches [GET] "/voicemails/new.json"):
  

Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (27.4ms)


Started POST "/voicemails/new.json" for 127.0.0.1 at 2012-06-13 11:37:50 +0530
  Processing by VoicemailsController#create as JSON
  Parameters: {"attachment_file_name"=>"blabla", "attachment_content_type"=>"text", "attachment_file_size"=>"2"}
WARNING: Can't verify CSRF token authenticity
Completed 401 Unauthorized in 1ms


Started POST "/voicemails/new.json" for 127.0.0.1 at 2012-06-13 11:38:29 +0530
  Processing by VoicemailsController#create as JSON
  Parameters: {"attachment_file_name"=>"blabla", "attachment_content_type"=>"text", "attachment_file_size"=>"2"}
WARNING: Can't verify CSRF token authenticity
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
Completed 422 Unprocessable Entity in 18ms (Views: 1.0ms | ActiveRecord: 6.5ms)


Started POST "/voicemails/new.json" for 127.0.0.1 at 2012-06-13 15:08:34 +0530
  Processing by VoicemailsController#create as JSON
  Parameters: {"attachment_file_name"=>"blabla", "attachment_content_type"=>"text", "attachment_file_size"=>"2"}
WARNING: Can't verify CSRF token authenticity
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 13ms

RuntimeError (came here):
  app/controllers/voicemails_controller.rb:16:in `block in create'
  app/controllers/voicemails_controller.rb:5:in `create'

Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.2ms)


Started POST "/voicemails/new.json" for 127.0.0.1 at 2012-06-13 15:09:15 +0530
  Processing by VoicemailsController#create as JSON
  Parameters: {"attachment_file_name"=>"blabla", "attachment_content_type"=>"text", "attachment_file_size"=>"2"}
WARNING: Can't verify CSRF token authenticity
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 15ms

RuntimeError (#<ActiveModel::Errors:0x007fd452a3cf40 @base=#<Voicemail id: nil, attachment_file_name: nil, attachment_content_type: nil, attachment_file_size: nil, attachment_updated_at: nil, created_at: nil, updated_at: nil>, @messages={:attachment_file_name=>["can't be empty"]}>):
  app/controllers/voicemails_controller.rb:16:in `block in create'
  app/controllers/voicemails_controller.rb:5:in `create'

Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (4.2ms)


Started POST "/voicemails/new.json" for 127.0.0.1 at 2012-06-13 15:12:12 +0530
  Processing by VoicemailsController#create as JSON
  Parameters: {"voicemail"=>{"attachment_file_name"=>"blabla", "attachment_content_type"=>"text", "attachment_file_size"=>"2"}}
WARNING: Can't verify CSRF token authenticity
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (52.8ms)[0m  INSERT INTO "voicemails" ("attachment_content_type", "attachment_file_name", "attachment_file_size", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["attachment_content_type", "text"], ["attachment_file_name", "blabla"], ["attachment_file_size", 2], ["attachment_updated_at", nil], ["created_at", Wed, 13 Jun 2012 09:42:12 UTC +00:00], ["updated_at", Wed, 13 Jun 2012 09:42:12 UTC +00:00]]
[paperclip] Saving attachments.
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 9393ms

BitlyError (INVALID_URI - '500'):
  app/models/voicemail.rb:10:in `bitly_url'
  app/controllers/voicemails_controller.rb:10:in `block (2 levels) in create'
  app/controllers/voicemails_controller.rb:5:in `create'

Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /Users/sanjeevmishra/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.1.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.7ms)


Started POST "/voicemails/new.json" for 127.0.0.1 at 2012-06-13 15:13:46 +0530
  Processing by VoicemailsController#create as JSON
  Parameters: {"voicemail"=>{"attachment_file_name"=>"blabla", "attachment_content_type"=>"text", "attachment_file_size"=>"2"}}
WARNING: Can't verify CSRF token authenticity
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "voicemails" ("attachment_content_type", "attachment_file_name", "attachment_file_size", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["attachment_content_type", "text"], ["attachment_file_name", "blabla"], ["attachment_file_size", 2], ["attachment_updated_at", nil], ["created_at", Wed, 13 Jun 2012 09:43:46 UTC +00:00], ["updated_at", Wed, 13 Jun 2012 09:43:46 UTC +00:00]]
[paperclip] Saving attachments.
  [1m[35m (1.3ms)[0m  COMMIT
Completed 201 Created in 16ms (Views: 1.3ms | ActiveRecord: 4.7ms)


Started GET "/assets/rails.png" for 127.0.0.1 at 2012-06-13 17:55:37 +0530
Served asset /rails.png - 304 Not Modified (42ms)
